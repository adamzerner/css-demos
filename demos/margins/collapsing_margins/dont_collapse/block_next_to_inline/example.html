<!--
  http://codepen.io/adamzerner/pen/MegdeQ?editors=1100

  Normally inline elements don't have vertical margins.
  If you set a vertical margin, it doesn't get used in the collapsing.
-->

<!doctype html>
<html>
  <head>
    <title>Test</title>
    <link rel="stylesheet" href="test.css">
  </head>
  <body>
    <div>block</div>
    <span>inline</span>
  </body>
</html>
